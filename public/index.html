<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shrunk 3D Business - Organization System</title>
    <link rel="stylesheet" href="css/dashboard.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1><i class="fas fa-cube"></i> Shrunk 3D Business</h1>
            <p>Comprehensive Organization & Management System</p>
            <div class="connection-status">
                <div id="ghl-status" class="status-indicator">
                    <i class="fas fa-circle"></i>
                    <span>GoHighLevel: <span id="ghl-status-text">Checking...</span></span>
                </div>
            </div>
        </header>

        <nav class="nav-tabs">
            <button class="tab-button active" onclick="showTab('overview')">
                <i class="fas fa-tachometer-alt"></i> Overview
            </button>
            <button class="tab-button" onclick="showTab('files')">
                <i class="fas fa-folder-open"></i> Files
            </button>
            <button class="tab-button" onclick="showTab('clients')">
                <i class="fas fa-users"></i> Clients
            </button>
            <button class="tab-button" onclick="showTab('projects')">
                <i class="fas fa-project-diagram"></i> Projects
            </button>
            <button class="tab-button" onclick="showTab('ghl')">
                <i class="fas fa-sync-alt"></i> GoHighLevel
            </button>
        </nav>

        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="total-clients">0</h3>
                        <p>Total Clients</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="active-projects">0</h3>
                        <p>Active Projects</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-images"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="total-images">0</h3>
                        <p>Images</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-cube"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="total-models">0</h3>
                        <p>3D Models</p>
                    </div>
                </div>
            </div>

            <div class="action-grid">
                <div class="action-card">
                    <h3><i class="fas fa-user-plus"></i> Quick Actions</h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="showNewClientModal()">
                            <i class="fas fa-user-plus"></i> New Client
                        </button>
                        <button class="btn btn-secondary" onclick="showNewProjectModal()">
                            <i class="fas fa-plus"></i> New Project
                        </button>
                        <button class="btn btn-info" onclick="organizeFiles()">
                            <i class="fas fa-sort"></i> Organize Files
                        </button>
                    </div>
                </div>

                <div class="action-card">
                    <h3><i class="fas fa-upload"></i> File Upload</h3>
                    <div class="upload-area" id="upload-area">
                        <input type="file" id="file-input" multiple accept=".jpg,.jpeg,.png,.gif,.webp,.svg,.stl,.obj,.fbx,.pdf,.doc,.docx">
                        <div class="upload-text">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Drag & drop files here or click to select</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Files Tab -->
        <div id="files" class="tab-content">
            <div class="section-header">
                <h2><i class="fas fa-folder-open"></i> File Management</h2>
                <div class="section-actions">
                    <input type="text" id="file-search" placeholder="Search files..." class="search-input">
                    <button class="btn btn-primary" onclick="organizeFiles()">
                        <i class="fas fa-sort"></i> Organize Files
                    </button>
                </div>
            </div>

            <div class="file-structure" id="file-structure">
                <div class="loading">Loading file structure...</div>
            </div>
        </div>

        <!-- Clients Tab -->
        <div id="clients" class="tab-content">
            <div class="section-header">
                <h2><i class="fas fa-users"></i> Client Management</h2>
                <div class="section-actions">
                    <input type="text" id="client-search" placeholder="Search clients..." class="search-input">
                    <button class="btn btn-primary" onclick="showNewClientModal()">
                        <i class="fas fa-user-plus"></i> New Client
                    </button>
                </div>
            </div>

            <div class="clients-list" id="clients-list">
                <div class="loading">Loading clients...</div>
            </div>
        </div>

        <!-- Projects Tab -->
        <div id="projects" class="tab-content">
            <div class="section-header">
                <h2><i class="fas fa-project-diagram"></i> Project Management</h2>
                <div class="section-actions">
                    <select id="project-filter" class="filter-select">
                        <option value="">All Projects</option>
                        <option value="active">Active</option>
                        <option value="completed">Completed</option>
                        <option value="archived">Archived</option>
                    </select>
                    <button class="btn btn-primary" onclick="showNewProjectModal()">
                        <i class="fas fa-plus"></i> New Project
                    </button>
                </div>
            </div>

            <div class="projects-list" id="projects-list">
                <div class="loading">Loading projects...</div>
            </div>
        </div>

        <!-- GoHighLevel Tab -->
        <div id="ghl" class="tab-content">
            <div class="section-header">
                <h2><i class="fas fa-sync-alt"></i> GoHighLevel Integration</h2>
                <div class="section-actions">
                    <button class="btn btn-primary" onclick="syncWithGHL()">
                        <i class="fas fa-sync"></i> Sync Now
                    </button>
                </div>
            </div>

            <div class="ghl-content">
                <div class="ghl-status-card">
                    <h3>Connection Status</h3>
                    <div id="ghl-detailed-status" class="status-details">
                        <div class="loading">Checking connection...</div>
                    </div>
                </div>

                <div class="ghl-actions">
                    <h3>Available Actions</h3>
                    <div class="action-buttons">
                        <button class="btn btn-info" onclick="testGHLConnection()">
                            <i class="fas fa-plug"></i> Test Connection
                        </button>
                        <button class="btn btn-success" onclick="syncWithGHL()">
                            <i class="fas fa-sync"></i> Sync Data
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="modal-overlay" class="modal-overlay">
        <div class="modal" id="new-client-modal">
            <div class="modal-header">
                <h3>New Client</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="new-client-form">
                    <div class="form-group">
                        <label>First Name</label>
                        <input type="text" name="firstName" required>
                    </div>
                    <div class="form-group">
                        <label>Last Name</label>
                        <input type="text" name="lastName" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label>Phone</label>
                        <input type="tel" name="phone">
                    </div>
                    <div class="form-group">
                        <label>Project Value ($)</label>
                        <input type="number" name="projectValue" step="0.01">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                <button class="btn btn-primary" onclick="createClient()">Create Client</button>
            </div>
        </div>

        <div class="modal" id="new-project-modal">
            <div class="modal-header">
                <h3>New Project</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="new-project-form">
                    <div class="form-group">
                        <label>Project Name</label>
                        <input type="text" name="name" required>
                    </div>
                    <div class="form-group">
                        <label>Client Name</label>
                        <input type="text" name="clientName" required>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea name="description" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Budget ($)</label>
                        <input type="number" name="budget" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>Deadline</label>
                        <input type="date" name="deadline">
                    </div>
                    <div class="form-group">
                        <label>Priority</label>
                        <select name="priority">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                <button class="btn btn-primary" onclick="createProject()">Create Project</button>
            </div>
        </div>
    </div>

    <script src="js/dashboard.js"></script>
</body>
</html>